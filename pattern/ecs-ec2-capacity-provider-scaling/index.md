---
title: Amazon ECS Capacity Providers for EC2 instances
description: >-
  How to automatically scale the EC2 capacity for your ECS cluster
  by using an ECS Capacity Provider
image: cover.png
filterDimensions:
  - key: tool
    value: cloudformation
  - key: type
    value: pattern
authors:
  - peckn
date: April 5 2023
---

Placeholder WIP


::: warning
Depending on what you choose to call your stack, you may get an error like this:

`CreateCapacityProvider error: The specified capacity provider name is invalid. Up to 255 characters are allowed, including letters (upper and lowercase), numbers, underscores, and hyphens. The name cannot be prefixed with "aws", "ecs", or "fargate". Specify a valid name and try again.`

If this happens ensure that your CloudFormation stack's name does not start with "aws", "ecs", "fargate". The capacity provider in the stack gets an autogenerated name that is derived from the stack name, so if the stack starts with a prohibited word it will cause the capacity provider's name to start with that prohibited word.
:::